---
title: "Python + FastAPI Adaptation Guide"
description: "Convert the hackathon starter to Python for ML and data analysis"
---

# Python + FastAPI Framework Guide

Convert the [Open Finance Hackathon Starter](https://github.com/open-finance-os/open-finance-hackathon-starter) from Node.js to Python + FastAPI for machine learning, data analysis, and high-performance APIs.

<Info>
  **Perfect For**: Teams focusing on financial data analysis, ML-powered insights, fraud detection, or algorithmic trading.
</Info>

<CardGroup cols={2}>
  <Card
    title="Hackathon Starter"
    icon="github"
    href="https://github.com/open-finance-os/open-finance-hackathon-starter"
  >
    Start with the Node.js examples, then convert to Python
  </Card>
  <Card
    title="API Reference"
    icon="book"
    href="/api-reference/introduction"
  >
    Open Finance API documentation and examples
  </Card>
</CardGroup>

## Python Conversion Benefits

### ü§ñ **ML & Analytics Advantages**
- **Pandas** - Superior financial data analysis
- **NumPy** - High-performance numerical computing
- **scikit-learn** - Machine learning for fraud detection
- **Matplotlib/Plotly** - Advanced data visualization
- **TensorFlow/PyTorch** - Deep learning capabilities

### üõ†Ô∏è **Recommended Tech Stack**
- **FastAPI** - Modern, fast web framework
- **Python 3.11+** - Latest Python features
- **httpx** - Async HTTP client (replaces Node.js axios)
- **Pydantic** - Data validation using Python type hints
- **SQLAlchemy** - Database ORM (optional)

### üîê **API Integration**
- Convert Node.js examples to Python
- Use httpx for async HTTP requests
- Implement OAuth2 with Python libraries
- Handle TPP certificates with Python ssl module

## Python Conversion Steps

<Steps>
  <Step title="Analyze Node.js Examples">
    ```bash
    # First, understand the working Node.js examples
    git clone https://github.com/YOUR_USERNAME/open-finance-hackathon-starter.git
    cd open-finance-hackathon-starter

    # Study the working examples
    cat examples/auth.js
    cat examples/accounts.js
    cat examples/payments.js
    ```
  </Step>

  <Step title="Setup Python Environment">
    ```bash
    # Create new Python project
    mkdir openfinance-python
    cd openfinance-python
    python -m venv venv
    source venv/bin/activate  # or venv\Scripts\activate on Windows

    # Install dependencies
    pip install fastapi uvicorn httpx python-dotenv cryptography
    ```
  </Step>

  <Step title="Convert Authentication">
    ```python
    # auth.py - Convert from examples/auth.js
    import httpx
    import ssl
    from pathlib import Path

    async def get_access_token():
        # Convert the Node.js auth example to Python
        # Use httpx instead of axios
        # Handle certificates with ssl module
        pass
    ```
  </Step>

  <Step title="Create FastAPI Server">
    ```python
    # main.py
    from fastapi import FastAPI
    from auth import get_access_token

    app = FastAPI(title="Open Finance API")

    @app.get("/accounts")
    async def get_accounts():
        # Convert examples/accounts.js logic
        token = await get_access_token()
        # Make API calls using httpx
        return {"accounts": []}
    ```
  </Step>

  <Step title="Add ML Features">
    ```python
    # analytics.py - Add Python-specific ML features
    import pandas as pd
    import numpy as np
    from sklearn.cluster import KMeans

    def analyze_spending_patterns(transactions):
        df = pd.DataFrame(transactions)
        # Perform analysis that would be complex in Node.js
        return insights
    ```
  </Step>
</Steps>

## Python-Specific Code Examples

### üîê **Converting Authentication**
```python
# Convert from examples/auth.js
import httpx
import ssl
from pathlib import Path

async def get_access_token():
    # Load certificates (convert from Node.js approach)
    cert_path = Path("certs/transport.pem")
    key_path = Path("certs/transport-key.pem")

    # Create SSL context
    ssl_context = ssl.create_default_context()
    ssl_context.load_cert_chain(cert_path, key_path)

    async with httpx.AsyncClient(verify=ssl_context) as client:
        response = await client.post(
            f"{os.getenv('OPENFINANCE_BASE_URL')}/oauth/token",
            data={
                "client_id": os.getenv("OPENFINANCE_CLIENT_ID"),
                "client_secret": os.getenv("OPENFINANCE_CLIENT_SECRET"),
                "grant_type": "client_credentials",
                "scope": "accounts"
            }
        )
    return response.json()
```

### üìä **Financial Data Analysis**
```python
# Python excels at financial analysis
import pandas as pd
import numpy as np
from sklearn.cluster import KMeans

def analyze_spending_patterns(transactions):
    df = pd.DataFrame(transactions)

    # Group by category and analyze
    spending_by_category = df.groupby('category')['amount'].sum()

    # Detect unusual spending patterns
    amounts = df['amount'].values.reshape(-1, 1)
    kmeans = KMeans(n_clusters=3)
    clusters = kmeans.fit_predict(amounts)

    return {
        "spending_by_category": spending_by_category.to_dict(),
        "unusual_transactions": df[clusters == 2].to_dict('records')
    }
```

## Need Help?

<CardGroup cols={2}>
  <Card
    title="Hackathon Starter"
    icon="github"
    href="https://github.com/open-finance-os/open-finance-hackathon-starter"
  >
    Return to the Node.js examples for reference
  </Card>
  <Card
    title="Get Support"
    icon="comments"
    href="/support"
  >
    Hackathon support and community discussions
  </Card>
</CardGroup>

<Tip>
  **ML Advantage**: Python's data science ecosystem makes it perfect for building intelligent financial insights that would be difficult to implement in other languages.
</Tip>
  <Step title="Fork & Clone">
    ```bash
    git clone https://github.com/YOUR_USERNAME/template-python-fastapi.git
    cd template-python-fastapi
    ```
  </Step>

  <Step title="Virtual Environment">
    ```bash
    # Create virtual environment
    python -m venv hackathon-env
    source hackathon-env/bin/activate  # On Windows: hackathon-env\Scripts\activate
    ```
  </Step>

  <Step title="Install Dependencies">
    ```bash
    pip install -r requirements.txt
    ```
  </Step>

  <Step title="Environment Setup">
    ```bash
    cp .env.example .env

    # Edit .env file
    OPENFINANCE_CLIENT_ID=your_client_id
    OPENFINANCE_CLIENT_SECRET=your_client_secret
    DATABASE_URL=postgresql://user:password@localhost/openfinance
    REDIS_URL=redis://localhost:6379
    ```
  </Step>

  <Step title="Database Setup">
    ```bash
    # Run migrations
    alembic upgrade head

    # Seed with sample data
    python scripts/seed_data.py
    ```
  </Step>

  <Step title="Start Development Server">
    ```bash
    uvicorn app.main:app --reload --port 8000
    ```

    API will be available at `http://localhost:8000`
    Interactive docs at `http://localhost:8000/docs`
  </Step>
</Steps>

## Key Features

### üìä **Financial Analytics**
```python
# Spending analysis endpoint
@app.get("/analytics/spending")
async def analyze_spending(account_id: str, period: str = "month"):
    transactions = await get_transactions(account_id)
    analysis = analyze_spending_patterns(transactions, period)
    return SpendingAnalysisResponse(**analysis)

# Fraud detection
@app.post("/fraud/detect")
async def detect_fraud(transaction: TransactionCreate):
    risk_score = await fraud_detection_model.predict(transaction)
    return FraudAssessment(risk_score=risk_score, is_suspicious=risk_score > 0.7)
```

### üîÆ **Predictive Models**
```python
# Cash flow prediction
@app.get("/predictions/cashflow")
async def predict_cashflow(account_id: str, days_ahead: int = 30):
    historical_data = await get_transaction_history(account_id)
    prediction = cashflow_model.predict(historical_data, days_ahead)
    return CashflowPrediction(predictions=prediction, confidence=0.85)
```

### üìà **Real-time Analytics**
```python
# WebSocket for real-time updates
@app.websocket("/ws/analytics/{account_id}")
async def analytics_websocket(websocket: WebSocket, account_id: str):
    await websocket.accept()
    while True:
        # Stream real-time analytics
        analytics = await get_realtime_analytics(account_id)
        await websocket.send_json(analytics.dict())
        await asyncio.sleep(5)  # Update every 5 seconds
```

## ML Models Included

### üéØ **Spending Categorization**
```python
# Automatic transaction categorization
def categorize_transaction(description: str, amount: float) -> str:
    features = extract_features(description, amount)
    category = category_model.predict([features])[0]
    return category

# Categories: groceries, transport, entertainment, bills, etc.
```

### üîç **Anomaly Detection**
```python
# Detect unusual spending patterns
def detect_anomalies(transactions: List[Transaction]) -> List[Anomaly]:
    features = prepare_features(transactions)
    anomalies = isolation_forest.fit_predict(features)
    return [create_anomaly(t, score) for t, score in zip(transactions, anomalies)]
```

### üí∞ **Budget Optimization**
```python
# Suggest budget optimizations
def optimize_budget(income: float, expenses: List[Expense]) -> BudgetSuggestion:
    current_allocation = analyze_allocation(expenses)
    optimal_allocation = budget_optimizer.optimize(income, current_allocation)
    return BudgetSuggestion(
        current=current_allocation,
        suggested=optimal_allocation,
        potential_savings=calculate_savings(current_allocation, optimal_allocation)
    )
```

## Data Processing Pipeline

```python
# ETL pipeline for financial data
class DataPipeline:
    async def extract(self, account_id: str) -> RawData:
        """Extract data from Open Finance API"""
        return await openfinance_client.get_all_data(account_id)

    def transform(self, raw_data: RawData) -> ProcessedData:
        """Clean and transform financial data"""
        df = pd.DataFrame(raw_data.transactions)
        df = self.clean_data(df)
        df = self.feature_engineering(df)
        return ProcessedData(df)

    async def load(self, processed_data: ProcessedData) -> None:
        """Store processed data for analysis"""
        await database.save_processed_data(processed_data)
```

## API Examples

### Financial Insights
```python
# GET /insights/spending/{account_id}
{
  "total_spending": 2450.00,
  "category_breakdown": {
    "groceries": 680.00,
    "transport": 320.00,
    "entertainment": 180.00
  },
  "trends": {
    "monthly_change": -5.2,
    "predicted_next_month": 2300.00
  },
  "recommendations": [
    "Consider reducing entertainment spending by 15%",
    "Your transport costs are 20% above average"
  ]
}
```

### Risk Assessment
```python
# POST /risk/assess
{
  "account_id": "acc_123",
  "risk_factors": {
    "debt_to_income": 0.35,
    "spending_volatility": 0.12,
    "savings_rate": 0.08
  },
  "risk_score": 0.42,
  "risk_level": "moderate",
  "recommendations": [
    "Increase emergency fund to 6 months expenses",
    "Consider debt consolidation options"
  ]
}
```

## Deployment

### AWS Lambda (Serverless)
```bash
# Install serverless framework
npm install -g serverless

# Deploy to AWS
serverless deploy
```

### Google Cloud Run
```bash
# Build and deploy
gcloud builds submit --tag gcr.io/PROJECT-ID/openfinance-api
gcloud run deploy --image gcr.io/PROJECT-ID/openfinance-api
```

### Docker
```dockerfile
FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8000

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

## Perfect For

- **Data Science Teams** - Built-in ML pipelines and analytics
- **Backend Specialists** - High-performance async API
- **Fintech Innovation** - Advanced financial algorithms
- **Academic Projects** - Research-grade data analysis tools

<Tip>
  **AI/ML Focus**: This template is ideal for teams wanting to build intelligent financial applications with predictive capabilities.
</Tip>